---
layout: default
title: json-lib的坑
#excerpt: 

---

　　入职了一家新公司，新公司内网隔离，上外网，只进不出。使用的技术架构，虽然说已经用SpringBoot了，但是，各种细节不规范啊，还记得第一天下载了项目，都跑不起来，找了半天原因，原来是项目不是标准的Maven项目，应该是resources目录，它却是resource，少了一个s，导致编译器找不到资源目录；代码基本没有注释，理解起来全靠猜，这个对于不熟悉业务的新人来说，真的好痛苦。幸亏薪资给的不错，我才忍了。  

　　好了，回到今天的主题，json-lib的坑。它由两个坑，一个是反序列化时，若小数精度很长，小数精度丢失，小数位8位时，必现

　　一个是兼容不规范的json格式字符串，标准的json格式是{"key001":{}}这种，但是，{"key001"={}} 后者它居然也能解析。这就很无语了。因为我在做json-lib替换为fastJson的时候，fastJson只支持标准json格式，导致解析失败